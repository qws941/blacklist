# Blacklist System Production Environment Configuration

# Database Configuration
POSTGRES_HOST=blacklist-postgres
POSTGRES_PORT=5432
POSTGRES_DB=blacklist
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_INITDB_ARGS=--auth-host=scram-sha-256

# Redis Configuration
REDIS_HOST=blacklist-redis
REDIS_PORT=6379
REDIS_DISABLE_COMMANDS=FLUSHDB,FLUSHALL,KEYS,PEXPIRE,DEL,EVAL,SHUTDOWN
REDIS_REPLICATION_DISABLED=yes

# Application Configuration
FLASK_ENV=production
PORT=2542
TZ=Asia/Seoul
LOG_LEVEL=INFO
PYTHONUNBUFFERED=1

# Gunicorn Production Settings
GUNICORN_WORKERS=2
GUNICORN_MAX_REQUESTS=1000
GUNICORN_TIMEOUT=60
GUNICORN_KEEPALIVE=5
GUNICORN_PRELOAD_APP=true

# Database Connection Pool Settings
DB_RETRY_COUNT=5
DB_RETRY_DELAY=10
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Health Check Settings
HEALTH_CHECK_TIMEOUT=30
STARTUP_PROBE_DELAY=60

# Watchtower Configuration
WATCHTOWER_TOKEN=your-watchtower-token-here
WATCHTOWER_POLL_INTERVAL=300
WATCHTOWER_ROLLING_RESTART=true
WATCHTOWER_INCLUDE_STOPPED=false
WATCHTOWER_REVIVE_STOPPED=false
WATCHTOWER_LIFECYCLE_HOOKS=true
WATCHTOWER_HTTP_API_UPDATE=true
WATCHTOWER_CLEANUP=true

# Monitoring Configuration
MONITOR_INTERVAL=30
HEALTH_ENDPOINT=http://blacklist-app:2542/health
ALERT_WEBHOOK=your-slack-webhook-url-here

# Security Settings
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-here

# Data Collection Settings
COLLECTION_ENABLED=true
COLLECTION_SOURCES=regtech,secudium

# Backup Settings
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# Network Configuration
NETWORK_NAME=blacklist-network
NETWORK_SUBNET=172.20.0.0/16

# Volume Paths
POSTGRES_DATA_PATH=/opt/blacklist/postgres-data
REDIS_DATA_PATH=/opt/blacklist/redis-data
APP_LOGS_PATH=/opt/blacklist/app-logs
APP_DATA_PATH=/opt/blacklist/app-data
APP_BACKUP_PATH=/opt/blacklist/app-backup
REDIS_BACKUP_PATH=/opt/blacklist/redis-backup
MONITORING_DATA_PATH=/opt/blacklist/monitoring